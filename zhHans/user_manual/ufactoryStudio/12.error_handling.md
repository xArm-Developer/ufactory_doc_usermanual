# 12. 报错与处理

## 12.1 控制器错误代码  
机器人硬件出现错误、控制软件出现错误、下发指令错误，会发出错误或警告，这个错误/警告信号会在用户发送任意指令时反馈回去，也就是这个反馈是被动的，并非主动上报。    

出现以下错误后，机器人会立即停止工作，并且丢弃控制器缓存指令。需手动清除错误后，机器人方可继续正常工作。根据上报的错误信息，重新调整机器人的运动规划。

| **报错代码** | **报警处理**                                                                                          |
| -------- | ------------------------------------------------------------------------------------------------- |
| C1       | 控制器上的紧急停止按钮被按下</br>请释放紧急停止按钮，然后点击“使能机械臂”。                                                     |
| C2       | 紧急停止按钮被按下</br>请将控制器的2组EI接地，然后点击“使能机械臂”。                                                       |
| C3       | 三态开关的紧急停止按钮被按下</br>请释放三态开关的紧急停止按钮，然后点击“使能机械臂”。                                                |
| C11-C17  | 请通过控制器上的紧急停止按钮重启机械臂。                                                                              |
| C18      | 力矩传感器错误                                                                                           |
| C19      | 末端通信失败</br>检查机械爪是否安装，波特率设置是否正确。                                                               |
| C21      | 运动学错误  <br>请重新规划路径。                                                                               |
| C22      | 自碰撞错误  <br>机械臂即将发生自碰撞，请重新规划路径。如果机械臂持续报自碰撞错误，请到“实时控制”界面开启“手动模式”，将机械臂拖回正常位置。                        |
| C23      | 关节角度超出限制    <br>请点击”初始点“按钮回到关节零点。                                                                 |
| C24      | 速度超出限制      <br>请检查机械臂是否超出运动范围，或减小运动速度和加速度。                                                       |
| C25      | 规划错误  <br>请重新规划路径或者减小运动速度。                                                                        |
| C26      | Linux RT 错误                                                                                       |
| C27      | 回复指令错误  <br>请重试，或通过控制器上的紧急停止按钮重启机械臂。                                                              |
| C29      | 其他错误                                                                                              |
| C30      | 反馈速度超出限制                                                                                          |
| C31      | 机械臂电流异常</br>关节ID[],理论力矩xx.xxNm，实际力矩xx.xxNm</br>请检查机械臂是否发生碰撞                               |
| C32      | 三点圆弧指令计算出错  <br>请重新设置圆弧指令。                                                                        |
| C33      | 控制器IO模块异常                                                                                         |
| C34      | 轨迹录制超时  <br>轨迹录制时间超过最大限制5分钟，建议重新录制。                                                               |
| C35      | 机械臂到达安全边界  <br>机械臂到达安全边界，请让机械臂在安全边界内运行。                                                           |
| C36      | 延时指令数量超限</br>1.请检查位置检测或IO延时指令指令是否过多。</br>2. 增加位置检测指令的容错半径。                                |
| C37      | 手动模式运动异常</br>关节ID[],转动角度xx.xx°</br>请检查机械臂的TCP负载设置和机械臂安装方式设置是否与实际匹配。                       |
| C38      | 关节角度异常</br>请通过控制器上的紧急停止按钮停止机械臂，并联系技术支持。                                                       |
| C39      | 控制器电源板主从IC通信异常</br>请联系技术支持。                                                                   |
| C40      | 无报错的关节轨迹求解失败。</br>请调整点位。                                                                      |
| C41      | 摩擦力文件内容无效。</br>请通过控制器上的紧急停止按钮重启机械臂。</br>如多次重启无效，请联系技术支持。                                  |
| C42      | 校准文件内容无效。</br>请通过控制器上的紧急停止按钮重启机械臂。</br>如多次重启无效，请联系技术支持。                                   |
| C43      | 动力学模型加载失败</br>请通过控制器上的紧急停止按钮重启机械臂。</br>如多次重启无效，请联系技术支持。                                   |
| C44      | SN缺失、错误或与固件类型不一致</br>SN：XXXXXXXXXXXXXX类型：<br>请按下控制器上的急停按钮，等待5秒后松开，然后进入"设置-我的设备-设备信息"页面，重启控制器。 |
| C50      | 六维力矩传感器错误</br>请查询六维力矩传感器用户手册错误码，定位问题并重新上电。                                                    |
| C51      | 六维力矩传感器模式设置错误</br>请确保机械臂没有处于手动模式，检查本指令给定值是否为0/1/2                                             |
| C52      | 六维力矩传感器零点设置错误</br>请检查传感器通信接线以及通电是否正常                                                          |
| C53      | 六维力矩传感器过载</br>请减小负载或施加的力                                                                      |
| C110     | 机械臂底座板通信异常                                                                                        |
| C111     | 控制器外接485设备通信异常                                                                                    |
  

上表中未出现的报警代码：如频繁出现，请联系技术支持。

## 12.2 关节伺服错误代码
报警处理方式可采用重新上电，步骤如下（重新上电需要走完以下所有步骤）：
* 通过控制器上的紧急停止按钮重新对机械臂上电
* 使能机械臂

| **报错代码**                          | **报警处理**                                                              |
| --------------------------------- | --------------------------------------------------------------------- |
| S0                                | 关节通信失败</br>请通过控制器上的紧急停止按钮重启机械臂。如多次重启无效，请联系技术支持。                   |
| S10                               | 电流检测异常 </br>请通过控制器上的紧急停止按钮重启机械臂。                                  |
| S11                               | 关节电流过大</br> 请通过控制器上的紧急停止按钮重启机械臂。                                 |
| S12                               | 关节速度过大</br> 请通过控制器上的紧急停止按钮重启机械臂。                                 |
| S14                               | 位置指令过大  <br>请通过控制器上的紧急停止按钮重启机械臂。                                      |
| S15                               | 关节过热  <br>如果机械臂长时间运行温度过高，请停机，等待机械臂冷却后重启机械臂。                           |
| S16                               | 编码器初始化异常  <br>请确保机械臂通电时，无外力推动机械臂运动。请通过控制器上的紧急停止按钮重启机械臂。               |
| S17                               | 单圈编码器错误</br>请通过控制器上的紧急停止按钮重启机械臂，如多次重启无效，请联系技术支持。                  |
| S18                               | 多圈编码器错误</br>请点击“清除错误”，随后将控制器电源开关推至OFF档，等待5秒后重新上电。如多次尝试无效，请联系技术支持。 |
| S19                               | 电池电压过低                                                                |
| S20                               | 驱动IC硬件异常 <br>请重新使能机械臂。                                               |
| S21                               | 驱动IC初始化异常 <br>请通过控制器上的紧急停止按钮重启机械臂                                    |
| S22                               | 编码器配置错误                                                               |
| S23                               | 电机位置偏差过大 <br>请检查机械臂运动是否受阻，末端负载是否超过机械臂额定负载，机械臂加速度值是否设置过大。             |
| S26                               | 第N关节正向超限 <br>请检测N关节角度值是否设置过大。                                        |
| S27                               | 第N关节负向超限 <br>请检测第N关节角度值是否设置过大，如果是，请点击清除报错后，手动解锁该关节并转动该关节至其运动范围内。     |
| S28                               | 关节指令错误  <br>机械臂未使能，请点击“使能机械臂”。                                        |
| S33                               | 驱动器过载 <br>请确保机械臂负载处于额定负载内。                                          |
| S34                               | 电机过载  <br>请确保机械臂负载处于额定负载内。                                            |
| S35                               | 电机类型错误  <br>请通过控制器上的紧急停止按钮重启机械臂。                                      |
| S36                               | 驱动器类型错误  <br>请通过控制器上的紧急停止按钮重启机械臂。                                     |
| S39                               | 关节过压  <br>请在运动设置中减少加速度值。                                              |
| S40                               | 关节欠压  <br>请在运动设置中减少加速度值，请检查控制器紧急停止开关是否松开。                             |
| S49                               | EEPROM读写错误  <br>请通过控制器上的紧急停止按钮重启机械臂。                                  |
| S52                               | 电机角度初始化失败  <br>请通过控制器上的紧急停止按钮重启机械臂。                                   |
| S58                               | 转矩指令超时<br>请通过控制器上的紧急停止按钮重启机械臂。                                   |

上表中未出现的报警代码：如频繁出现，请联系技术支持。


## 12.3 PythonSDK报警信息
在用 Python 库设计机器人运动规划时，如果机器人出现故障，需要手动清除错误。清除错误后，仍需重新给机器人使能，设置运动模式，方可使机器人正常运动。此时根据上报的错误信息，应重新调整机器人的路径规划。  

Python 库清除错误步骤：（如下接口，详细说明请查看 GitHub）
* 清除错误：clean_error()
* 重新使能机械臂：motion_enable(true)
* 设置运动状态：set_state(0)

| **报错代码**                               | **报警处理**                                     |
| -------------------------------------- | -------------------------------------------- |
| A-9                                    | 紧急停止                                         |
| A-8                                    | TCP位置指令超出机械臂运动范围，请调整TCP位置指令。                 |
| A-2                                    | 机械臂未准备好，请检查机械臂是否已经使能，机械臂状态是否设置正确。            |
| A-1                                    | 未连接到xArm控制器或连接中断，请检查网路连接。                    |
| A1                                     | 有错误未清除，请清除错误后重试。                             |
| A2                                     | 有警告未清除，请清除警告后重试。                             |
| A3                                     | 获取回复超时，请检查固件版本和网络连接。                         |
| A4                                     | TCP回复长度错误，请检查网络连接。                           |
| A5                                     | TCP回复序号错误，请检查网络连接。                           |
| A6                                     | TCP协议标志错误，请检查网络连接。                           |
| A7                                     | TCP回复指令与发送指令不匹配，请检查网络连接。                     |
| A8                                     | 发送指令错误，请检查网络连接。                              |
| A9                                     | 机械臂未准备好，请检查机械臂错误是否已清除，机械臂是否已经使能，机械臂状态是否设置正确。 |
| A11                                    | 其他错误，请联系技术支持。                                |
| A12                                    | 参数错误。                                        |
| A20                                    | 末端工具IO ID 错误。                                |
| A22                                    | 末端工具Modbus波特率错误。                             |
| A23                                    | 末端工具Modbus回复长度错误。                            |
| A31                                    | 轨迹读写失败。                                      |
| A32                                    | 轨迹读写超时。                                      |
| A33                                    | 运行轨迹超时。                                      |
| A41                                    | 真空吸头等待超时。                                    |
| A100                                   | 等待完成超时。                                      |
| A101                                   | 检测末端执行器状态失败次数过多。                             |
| A102                                   | 末端执行器有错误。                                    |
| A103                                   | 末端执行器未使能。                                    |

上表中未出现的报警代码：如频繁出现，请联系技术支持。